<!DOCTYPE html>
<html>
	<head>
		<title>OpenEarthViewer</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="css/styles.css" type="text/css" />
		<script type="text/javascript" src="js/libs/three.min.js"></script>
		<script src="js/OEV.js" type="module"></script>
	</head>
	
	<body>
		<div id="modalContainer">
			<div id="modalWindow">
				<a href="#" onclick="closeModal();"><img src="img/ico_close.png" alt="close" title="close"></a>
				<div id="modalContent">
				
				</div>
			</div>
		</div>
		
		<div id="boxNotification">
		</div>
		
		<div id="header">OpenEarthView(er)</div>
		<div id="main">
			<div id="tools">
				<a href="standby.php">STOP</a>
				<div id="debugBox"></div>
				<div class="toolsBox">
					<h3 data-content="navigation" class="activ"><div class="ico_expend activ" id="expend_navigation"></div> Navigation</h3>
					<div class="toolsContent activ" id="toolsContent_navigation">
						<div class="heading" id="camHeading" onclick="resetHeading();"></div>
						<br>
						<input type="button" value="Zoom -" onclick="zoomOut();" title="-">
						<span id="zoom_level" style="display:inline-block;width:20px;overflow:hidden;">0</span>
						<input type="button" value="Zoom +" onclick="zoomIn();" title="+">
					</div>
				</div>
				
				<div class="toolsBox">
					<h3 data-content="datasToLoad" class="activ"><div class="ico_expend activ" id="expend_datasToLoad"></div> Datas to load</h3>
					<div class="toolsContent activ" id="toolsContent_datasToLoad">
						<input class="oev-btn-dataToLoad" type="checkbox" name="cfg_load_ele" id="cfg_load_ele" value="1"> <label for="cfg_load_ele">Elevation</label>
						<br>
						<input class="oev-btn-dataToLoad" type="checkbox" name="cfg_load_nodes" id="cfg_load_nodes" value="1"> <label for="cfg_load_nodes">Nodes</label>
						<br>
						<div id="models_switch"></div>
					</div>
				</div>	
				
				<div class="toolsBox">
					<h3 data-content="waypoints" class="activ"><div class="ico_expend activ" id="expend_waypoints"></div> Waypoints</h3>
					<br>
					<div class="btn" onclick="showWPDialog();" title="Save current location">Add waypoint</div>
					<div class="toolsContent activ" id="toolsContent_waypoints">
						<div id="waypointsInfos"></div>
					</div>
				</div>
				<div class="toolsBox">
					<h3 data-content="tools" class="activ"><div class="ico_expend activ" id="expend_tools"></div> Tools</h3>
					<div class="toolsContent activ" id="toolsContent_tools">
						<div class="btn" id="btnPlugins" onclick="openPlugins();" title="more tools">Plugins</div>
						<div class="btn" id="btnDof" onclick="OEV.switchDof();" title="switch depth of field">DOF</div>
						<div class="btn" id="btnClouds" onclick="OEV.switchClouds();" title="switch clouds">Clouds</div>
						<br>
						Sun time <input type="range" id="cfg_sun_time" min="20" max="80" step="0.1" value="50">
						<br>
						Sun luminosity <input type="range" id="cfg_sun_luminosity" min="0" max="100" step="0.1" value="50">
						<br>
						Fog Near <input type="range" id="cfg_fog_near">
						<br>
						Fog Far <input type="range" id="cfg_fog_far">
					</div>
				</div>
				<div class="toolsBox" id="config_network">
					<h3 data-content="network" class="activ"><div class="ico_expend activ" id="expend_network"></div> Network</h3>
					<div class="toolsContent activ" id="toolsContent_network">
						<div id="ws_status">
							...
						</div>
						<div id="ws_users_list">
							
						</div>
						<div id="ws_chat">
							<img src="img/ico_tchat.png" alt="tchat" title="tchat">
							<div id="ws_chat_histo">
							</div>
							<form id="ws_chat_form">
								<input type="text" id="ws_chat_msg" placeholder="enter your message" autocomplete="off"> <input type="submit" id="ws_chat_send" value="send">
							</form>
						</div>
					</div>
				</div>
				<div class="toolsBox" id="config_box">
					<h3 data-content="layers" class="activ"><div class="ico_expend activ" id="expend_layers"></div> Layer</h3>
					<div class="toolsContent activ" id="toolsContent_layers">
						<input type="radio" name="cfg_tile_layer" value="tileOsm" checked="checked"> Osm Standard
						<br>
						<input type="radio" name="cfg_tile_layer" value="tileMapbox"> Mapbox Satellite
					</div>
				</div>
			</div>
			
			<div id="threeContainer">
				<div class="overlayUI" id="overlayUICoords">
					--
				</div>
				<div class="overlayUI" id="overlayUILoading">
					<div id="computingQueue"></div>
					<div id="loading_OBJECTS"></div>
					<div id="loading_TILE2D"></div>
					<div id="loading_ELE"></div>
					<div id="loading_MODELS"></div>
					<div id="loading_BUILDINGS"></div>
					<div id="loading_SURFACE"></div>
					<div id="loading_NODES"></div>
				</div>
				<div class="overlayUI" id="overlayPlugins">
					
				</div>
				<div class="overlayUI" id="overlayMinimap">
					<div id="minimapMarkerCam"></div>
					<div id="minimapMarkerSun"></div>
				</div>
			</div>
		</div>
		<div id="footer">
			<a href="credits.html" onclick="showCredits();return false;">Credits</a> | 
			<a id="contactLink" href="mailto:toto@toto.com">Contact</a>
		</div>

		<script>
			window.addEventListener('load', evt => {
				OEV.init('threeContainer');
			})
			
			function render() {
				requestAnimationFrame( render );
				OEV.render();
			}
		</script>
	</body>
</html>