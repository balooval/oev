<!DOCTYPE html>
<html>
	<head>
		<title>OpenEarthViewer</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="css/styles.css" type="text/css" />
		<script type="text/javascript" src="js/libs/three.min.js"></script>
		<script src="js/OEV.js" type="module"></script>
	</head>
	
	<body>
		<div id="modalContainer">
			<div id="modalWindow">
				<a href="#" onclick="closeModal();"><img src="img/ico_close.png" alt="close" title="close"></a>
				<div id="modalContent">
				
				</div>
			</div>
		</div>
		
		<div id="boxNotification">
		</div>
		
		<div id="header">OpenEarthViewer</div>
		<div id="main">
			<div id="tools">
				<div class="toolsBox">
					<h3 data-content="navigation" class="activ"> Navigation</h3>
					<div class="toolsContent activ" id="toolsContent_navigation">
						<div class="heading" id="camHeading" onclick="resetHeading();"></div>
						<br>
						<input type="button" value="Zoom -" onclick="zoomOut();" title="-">
						<span id="zoom_level" style="display:inline-block;width:20px;overflow:hidden;">0</span>
						<input type="button" value="Zoom +" onclick="zoomIn();" title="+">
					</div>
				</div>
				
				<div class="toolsBox">
					<h3 data-content="datasToLoad" class="activ"> Datas to load</h3>
					<div class="toolsContent activ" id="toolsContent_datasToLoad">
						<div id="models_switch"></div>
					</div>
				</div>	
				
				<div class="toolsBox">
					<h3 data-content="waypoints" class="activ"> Waypoints</h3>
					<br>
					<div class="btn" onclick="showWPDialog();" title="Save current location">Add waypoint</div>
					<div class="toolsContent activ" id="toolsContent_waypoints">
						<div id="waypointsInfos"></div>
					</div>
				</div>
				<div class="toolsBox">
					<h3 data-content="tools" class="activ"> Tools</h3>
					<div class="toolsContent activ" id="toolsContent_tools">
						<div class="btn" id="btnPlugins" onclick="openPlugins();" title="more tools">Plugins</div>
						<div class="btn" id="btnDof" onclick="OEV.switchDof();" title="switch depth of field">DOF</div>
						<div class="btn" id="btnClouds" onclick="OEV.switchClouds();" title="switch clouds">Clouds</div>
						<br>
						Sun time <input type="range" id="cfg_sun_time" min="20" max="80" step="0.1" value="50">
						<br>
						Sun luminosity <input type="range" id="cfg_sun_luminosity" min="0" max="100" step="0.1" value="50">
						<br>
						Fog Near <input type="range" id="cfg_fog_near">
						<br>
						Fog Far <input type="range" id="cfg_fog_far">
					</div>
				</div>
			</div>
			
			<div id="threeContainer">
				<div class="overlayUI" id="overlayUICoords">
					--
				</div>
				<div class="overlayUI" id="overlayUILoading">
					<div id="computingQueue"></div>
					<div id="loading_OBJECTS"></div>
					<div id="loading_TILE2D"></div>
					<div id="loading_ELE"></div>
					<div id="loading_MODELS"></div>
					<div id="loading_BUILDINGS"></div>
					<div id="loading_SURFACE"></div>
					<div id="loading_NODES"></div>
				</div>
				<div class="overlayUI" id="overlayPlugins">
					
				</div>
			</div>
		</div>
		<div id="footer">
			<a href="credits.html" onclick="showCredits();return false;">Credits</a> | 
			<a id="contactLink" href="mailto:toto@toto.com">Contact</a>
		</div>

		<script>
			window.addEventListener('load', evt => {
				OEV.init('threeContainer');
			})
			
			function render() {
				requestAnimationFrame( render );
				OEV.render();
			}
		</script>
	</body>
</html>